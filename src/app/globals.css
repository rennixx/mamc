@import "tailwindcss";
@import "../styles/components.css";

@theme {
  --dark-mode: class;
}

/* Gilroy Font Face */
@font-face {
  font-family: 'Gilroy-Regular';
  src: url('/fonts/Gilroy-Light.woff') format('woff');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Gilroy-Regular';
  src: url('/fonts/Gilroy-Light.woff') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Gilroy-Regular';
  src: url('/fonts/Gilroy-Bold.woff') format('woff');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Gilroy-Regular';
  src: url('/fonts/Gilroy-Bold.woff') format('woff');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Gilroy-Bold';
  src: url('/fonts/Gilroy-Bold.woff') format('woff');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* Bahij Font Face (Arabic/Kurdish) */
@font-face {
  font-family: 'bahij-roman';
  src: url('/fonts/Bahij-light.woff') format('woff');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'bahij-roman';
  src: url('/fonts/Bahij-light.woff') format('woff');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'bahij-roman';
  src: url('/fonts/Bahij-bold.woff') format('woff');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'bahij-roman';
  src: url('/fonts/Bahij-bold.woff') format('woff');
  font-weight: bold;
  font-style: normal;
  font-display: swap;
}

@theme {
  /*
   * B&W COLOR SYSTEM
   * Light mode values defined here.
   * Dark mode overrides via .dark {} block below.
   * Token names kept from the original palette for zero-change compatibility.
   *
   * forest  → backgrounds  (inverted: 900=white in light, black in dark)
   * cream   → foreground/text (inverted: 100=black in light, white in dark)
   * gold    → accent         (black in light, white in dark)
   * charcoal/slate → neutral grays
   */

  /* BACKGROUNDS (forest) — 900/800 are inverted for bg use */
  --color-forest-50: #fafafa;
  --color-forest-100: #f5f5f5;
  --color-forest-200: #e5e5e5;
  --color-forest-300: #d4d4d4;
  --color-forest-400: #a3a3a3;
  --color-forest-500: #737373;
  --color-forest-600: #525252;
  --color-forest-700: #404040;
  --color-forest-800: #f5f5f5;
  --color-forest-900: #ffffff;

  /* FOREGROUND / TEXT (cream) — inverted for readability */
  --color-cream-50: #fafafa;
  --color-cream-100: #0a0a0a;
  --color-cream-200: #404040;
  --color-cream-300: #737373;
  --color-cream-400: #a3a3a3;

  /* ACCENT (gold) — black accent in light mode */
  --color-gold-50: #fafafa;
  --color-gold-100: #f5f5f5;
  --color-gold-200: #e5e5e5;
  --color-gold-300: #404040;
  --color-gold-400: #0a0a0a;
  --color-gold-500: #171717;
  --color-gold-600: #0a0a0a;
  --color-gold-700: #262626;
  --color-gold-800: #171717;
  --color-gold-900: #0a0a0a;

  /* WARM NEUTRAL (saddle) — mapped to grays */
  --color-saddle-50: #fafafa;
  --color-saddle-100: #f5f5f5;
  --color-saddle-200: #e5e5e5;
  --color-saddle-300: #d4d4d4;
  --color-saddle-400: #a3a3a3;
  --color-saddle-500: #737373;
  --color-saddle-600: #d4d4d4;
  --color-saddle-700: #525252;
  --color-saddle-800: #404040;
  --color-saddle-900: #262626;

  /* SLATE GREY */
  --color-slate-50: #fafafa;
  --color-slate-100: #f5f5f5;
  --color-slate-200: #e5e5e5;
  --color-slate-300: #d4d4d4;
  --color-slate-400: #a3a3a3;
  --color-slate-500: #737373;
  --color-slate-600: #525252;
  --color-slate-700: #404040;
  --color-slate-800: #262626;
  --color-slate-900: #171717;

  /* NEUTRAL: Charcoal */
  --color-charcoal-50: #fafafa;
  --color-charcoal-100: #f5f5f5;
  --color-charcoal-200: #e5e5e5;
  --color-charcoal-300: #d4d4d4;
  --color-charcoal-400: #a3a3a3;
  --color-charcoal-500: #737373;
  --color-charcoal-600: #525252;
  --color-charcoal-700: #404040;
  --color-charcoal-800: #262626;
  --color-charcoal-900: #171717;

  /* ACTION */
  --color-action-50: #fafafa;
  --color-action-100: #f5f5f5;
  --color-action-200: #e5e5e5;
  --color-action-300: #d4d4d4;
  --color-action-400: #a3a3a3;
  --color-action-500: #171717;
  --color-action-600: #0a0a0a;
  --color-action-700: #0a0a0a;
  --color-action-800: #0a0a0a;
  --color-action-900: #000000;

  /* TYPOGRAPHY */
  --font-serif: 'Playfair Display', 'Amiri', Georgia, serif;
  --font-sans: 'Gilroy-Regular', system-ui, -apple-system, sans-serif;
  --font-display: 'Gilroy-Bold', 'Gilroy-Regular', system-ui, sans-serif;

  /* SHADOWS */
  --shadow-tactile: 0 2px 8px rgba(0, 0, 0, 0.08), 0 1px 3px rgba(0, 0, 0, 0.06);
  --shadow-tactile-hover: 0 4px 12px rgba(0, 0, 0, 0.12), 0 2px 6px rgba(0, 0, 0, 0.08);
  --shadow-tactile-pressed: inset 0 2px 4px rgba(0, 0, 0, 0.12);
  --shadow-luxury: 0 10px 40px rgba(0, 0, 0, 0.08);
  --shadow-luxury-lg: 0 20px 60px rgba(0, 0, 0, 0.1);
}

@layer base {
  body {
    @apply bg-forest-900 text-cream-100;
    @apply transition-colors duration-300 min-h-screen;
  }

  * {
    font-family: 'Gilroy-Regular', system-ui, -apple-system, sans-serif;
  }

  html[lang="en"] *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6) {
    font-family: 'Gilroy-Regular', system-ui, -apple-system, sans-serif !important;
  }

  html[lang="en"] h1, html[lang="en"] h2, html[lang="en"] h3,
  html[lang="en"] h4, html[lang="en"] h5, html[lang="en"] h6 {
    font-family: 'Gilroy-Bold', 'Gilroy-Regular', system-ui, sans-serif !important;
    font-weight: bold;
  }

  html[lang="ku"] *, html[lang="ar"] * {
    font-family: bahij-roman, sans-serif !important;
  }

  .font-arabic {
    font-family: bahij-roman, sans-serif !important;
  }

  html[lang="ku"] h1, html[lang="ku"] h2, html[lang="ku"] h3,
  html[lang="ku"] h4, html[lang="ku"] h5, html[lang="ku"] h6,
  html[lang="ar"] h1, html[lang="ar"] h2, html[lang="ar"] h3,
  html[lang="ar"] h4, html[lang="ar"] h5, html[lang="ar"] h6 {
    font-family: bahij-roman, sans-serif !important;
    font-weight: bold;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-serif;
  }

  html { scroll-behavior: smooth; }

  ::selection {
    background-color: var(--selection-bg, rgba(0, 0, 0, 0.12));
    color: var(--selection-color, #0a0a0a);
  }
}

/* Glassmorphism */
.glass {
  background: var(--glass-bg, rgba(0, 0, 0, 0.03));
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid var(--glass-border, rgba(0, 0, 0, 0.06));
}

.glass-nav {
  background: var(--glass-nav-bg, rgba(255, 255, 255, 0.8));
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-nav-border, rgba(0, 0, 0, 0.08));
}

.bg-leather-texture {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /><feColorMatrix values="0 0 0 0 0, 0 0 0 0 0, 0 0 0 0 0, 0 0 0 0.03 0" /></filter><rect width="100" height="100" filter="url(%23noise)" opacity="0.4" /></svg>');
  background-color: var(--leather-tint, rgba(0, 0, 0, 0.02));
}

/* RTL Support */
[dir="rtl"] { direction: rtl; }
[dir="ltr"] { direction: ltr; }
[dir="rtl"] .icon-chevron-right,
[dir="rtl"] svg[class*="chevron"],
[dir="rtl"] [class*="arrow-right"] { transform: scaleX(-1); }
[dir="rtl"] .text-left { text-align: right; }
[dir="rtl"] .text-right { text-align: left; }

/* Accessibility */
:focus-visible {
  outline: 3px solid var(--color-gold-400) !important;
  outline-offset: 2px !important;
}
:focus:not(:focus-visible) { outline: none; }

button:focus-visible, a:focus-visible,
input:focus-visible, select:focus-visible,
textarea:focus-visible {
  outline: 3px solid var(--color-gold-400);
  outline-offset: 2px;
  box-shadow: var(--focus-shadow, 0 0 0 4px rgba(0, 0, 0, 0.1));
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

@media (prefers-contrast: high) {
  .glass-card, .glass-nav, .glass {
    border: 2px solid currentColor !important;
    backdrop-filter: none !important;
  }
}

@media (forced-colors: active) {
  button, [role="button"] { border: 2px solid ButtonBorder; }
}

@layer base {
  :root {
    --color-text-on-light: #0a0a0a;
    --color-text-on-dark: #fafafa;
    --color-gold-text: #171717;
    --color-gold-text-dark: #0a0a0a;
    --color-link-default: #404040;
    --color-link-hover: #0a0a0a;
    --color-link-visited: #737373;
  }
}

/*
 * DARK MODE OVERRIDES
 * Flips all color tokens for dark mode. Since Tailwind v4 renders utilities
 * as color: var(--color-token), overriding these CSS variables in .dark
 * auto-switches ALL existing classes without any component-level changes.
 */
.dark {
  /* Backgrounds */
  --color-forest-800: #0a0a0a;
  --color-forest-900: #000000;

  /* Foreground / text */
  --color-cream-50: #171717;
  --color-cream-100: #fafafa;
  --color-cream-200: #d4d4d4;
  --color-cream-300: #a3a3a3;
  --color-cream-400: #525252;

  /* Accent */
  --color-gold-300: #d4d4d4;
  --color-gold-400: #fafafa;
  --color-gold-500: #f5f5f5;
  --color-gold-600: #e5e5e5;

  /* Warm neutral */
  --color-saddle-600: #262626;

  /* Charcoal */
  --color-charcoal-50: #171717;
  --color-charcoal-300: #525252;
  --color-charcoal-400: #737373;
  --color-charcoal-500: #a3a3a3;
  --color-charcoal-700: #d4d4d4;
  --color-charcoal-800: #e5e5e5;
  --color-charcoal-900: #fafafa;

  /* Slate */
  --color-slate-100: #262626;
  --color-slate-400: #737373;
  --color-slate-500: #a3a3a3;
  --color-slate-600: #d4d4d4;
  --color-slate-800: #f5f5f5;
  --color-slate-900: #fafafa;

  /* Glassmorphism */
  --glass-bg: rgba(255, 255, 255, 0.05);
  --glass-border: rgba(255, 255, 255, 0.1);
  --glass-nav-bg: rgba(0, 0, 0, 0.8);
  --glass-nav-border: rgba(255, 255, 255, 0.08);
  --leather-tint: rgba(255, 255, 255, 0.02);

  /* Selection & focus */
  --selection-bg: rgba(255, 255, 255, 0.15);
  --selection-color: #fafafa;
  --focus-shadow: 0 0 0 4px rgba(255, 255, 255, 0.15);

  /* Shadows */
  --shadow-tactile: 0 2px 8px rgba(0, 0, 0, 0.3), 0 1px 3px rgba(0, 0, 0, 0.2);
  --shadow-tactile-hover: 0 4px 12px rgba(0, 0, 0, 0.4), 0 2px 6px rgba(0, 0, 0, 0.3);
  --shadow-luxury: 0 10px 40px rgba(0, 0, 0, 0.3);
  --shadow-luxury-lg: 0 20px 60px rgba(0, 0, 0, 0.4);

  /* Custom properties */
  --color-text-on-light: #fafafa;
  --color-text-on-dark: #0a0a0a;
  --color-gold-text: #fafafa;
  --color-gold-text-dark: #fafafa;
  --color-link-default: #a3a3a3;
  --color-link-hover: #fafafa;
  --color-link-visited: #737373;
}

/* Mobile Optimizations */
@layer base {
  /* Touch-friendly tap targets (minimum 44x44px for iOS/Android) */
  .touch-manipulation {
    @apply min-h-[44px] min-w-[44px] flex items-center justify-center;
  }

  /* Safe area for mobile devices with notches */
  @supports (padding: max(0px)) {
    body {
      padding-left: env(safe-area-inset-left);
      padding-right: env(safe-area-inset-right);
      padding-top: env(safe-area-inset-top);
      padding-bottom: env(safe-area-inset-bottom);
    }
  }

  /* Better mobile typography */
  @media (max-width: 768px) {
    h1 {
      @apply text-3xl md:text-5xl;
    }
    h2 {
      @apply text-2xl md:text-4xl;
    }
    h3 {
      @apply text-xl md:text-2xl;
    }
  }

  /* Mobile-safe button sizes */
  @media (max-width: 640px) {
    button, a {
      @apply min-h-[44px];
    }
  }

  /* Prevent horizontal scroll on mobile */
  body {
    @apply overflow-x-hidden;
  }

  /* Smooth scrolling with momentum on iOS */
  @supports (-webkit-overflow-scrolling: touch) {
    body {
      -webkit-overflow-scrolling: touch;
    }
  }

  /* Fix input font size on iOS (prevents auto-zoom) */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="number"],
  input[type="password"],
  select,
  textarea {
    @apply text-base;
  }

  /* Better image handling on mobile */
  img {
    @apply max-w-full h-auto;
  }

  /* Prevent text selection on UI elements */
  .no-select {
    @apply select-none;
  }
}
